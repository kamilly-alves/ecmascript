<html>
    <body>
        <script>
            let promessa = new Promise((resolve, reject) => {
                /*try {

                }catch(e) {

                }*/

                //requisição http para recuperar um relação de usuarios

                setTimeout(()=>{

                    //requisição foi realizada de algum modo
                    let resposta_da_requisicao = {}

                        //erro  na requisição
                        if(false) {

                            resposta_da_requisicao ={
                                codigo: 1050,
                                erro : 'Falha de autorização'
                            }
                            reject(resposta_da_requisicao)
                            
                        }
                        resposta_da_requisicao = {
                            0: {id: 1, nome: 'kamilly'},
                            1: {id: 2, nome:'Bruno'},
                            2: {id: 3, nome:'Sofia'},

                        }
                    
                },4000)

               
            }).then(dados => {
                console.log(dados)
                
                let promessa2 = new Promise((resolve, reject) => {

                    //requisição http para recuperar um relação de usuarios

                setTimeout(()=>{

//requisição foi realizada de algum modo
let resposta_da_requisicao = {}

    //erro  na requisição
    if(false) {

        resposta_da_requisicao ={
            codigo: 7788,
            erro : 'Erro ao recuperar os posts dos usuarios'
        }
        reject(resposta_da_requisicao)
        
    }
    resposta_da_requisicao = {
        0: {id: 1, usuario_id: 1, posts: [
            {id: 1, posts: 'Post 1'},
            {id: 2, posts: 'Post 2'}

        ] },
        1: {id: 2,  usuario_id: 2, posts: [
            {id: 3, posts: 'Post 1'},
            {id: 4, posts: 'Post 2'}

        ] },
        
        2: {id: 3,  usuario_id: 3, posts: [
            {id: 5, posts: 'Post 1'},
            {id: 4, posts: 'Post 2'}
        ] },

    }
    resolve(resposta_da_requisicao)

},4000)


                }).then(dados => {
                    console.log(dados)

                }).catch(erro =>{
                    console.log(erro)
                })

            }).then((param) => {
                console.log ('Then numero 2',param)
                
                return 'Parametro captura no then anterior'

            }).catch(erro => {
                console.log('Operacao sequencial (catch):', erro)

                return 'Parametro capturado do catch e enviado para o Then seguinte'

            }).then(param => {
                console.log ('Then numero 3',param)
            

            }).then(() => {
                console.log ('Then numero 4')
            })
        </script>
    </body>
</html>